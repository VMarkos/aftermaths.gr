---
layout: post
title: Η εικασία Collatz (2)
date: 2021-04-24 09:47:51.000000000 +03:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- After-maths
- Μαθηματικά
tags:
- Collatz
- εικασία
- μαθηματικά
meta:
  _last_editor_used_jetpack: block-editor
  timeline_notification: '1619246875'
  _publicize_job_id: '57536033881'
  _thumbnail_id: '7156'
  _coblocks_attr: ''
  _coblocks_dimensions: ''
  _coblocks_responsive_height: ''
  _coblocks_accordion_ie_support: ''
  _publicize_done_external: a:2:{s:7:"twitter";a:1:{i:24446906;s:59:"https://twitter.com/aftermathsgr/status/1385847973058207749";}s:8:"facebook";a:1:{i:25309739;s:52:"https://facebook.com/100285875223191_235461055039005";}}
  amp_status: ''
  _publicize_done_22918771: '1'
  spay_email: ''
  _wpas_done_24446906: '1'
  jetpack_anchor_podcast: ''
  publicize_twitter_user: aftermathsgr
  jetpack_anchor_episode: ''
  jetpack_anchor_spotify_show: ''
  _wpas_is_tweetstorm: ''
  publicize_linkedin_url: ''
  _publicize_done_23641194: '1'
  _wpas_done_26156310: '1'
  publicize_tumblr_url: http://.tumblr.com/post/649327418333659136
  _publicize_done_23261972: '1'
  _wpas_done_25211553: '1'
  _publicize_done_23300026: '1'
  _wpas_done_25309739: '1'
  _oembed_18bb1a2a28935513318a39cc114dc95b: <div class="embed-youtube"><iframe title="Unda"
    width="723" height="542" src="https://www.youtube.com/embed/oJMCj26o9KU?feature=oembed"
    frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media;
    gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen></iframe></div>
  _oembed_time_18bb1a2a28935513318a39cc114dc95b: '1725117364'
  _oembed_3ef9dc8ab8eb297ed2f84e977bd4884a: <div class="embed-youtube"><iframe title="Unda"
    width="750" height="563" src="https://www.youtube.com/embed/oJMCj26o9KU?feature=oembed"
    frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media;
    gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen></iframe></div>
  _oembed_time_3ef9dc8ab8eb297ed2f84e977bd4884a: '1730546938'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:55:30'
author:
  login: aftermathsgr
  email: aftermathsgr@gmail.com
  display_name: Aftermaths
  first_name: Βασίλης
  last_name: Μάρκος
permalink: "/2021/04/24/%ce%b7-%ce%b5%ce%b9%ce%ba%ce%b1%cf%83%ce%af%ce%b1-collatz-2/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>Στο <a href="https://aftermathsgr.wordpress.com/2021/04/21/%ce%b7-%ce%b5%ce%b9%ce%ba%ce%b1%cf%83%ce%af%ce%b1-collatz-1/">πρώτο μέρος της σειράς</a> είδαμε τη διατύπωση μίας αρκετά ενδιαφέρουσας εικασίας:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"backgroundColor":"light-gray","textColor":"dark-blue"} --></p>
<p class="has-dark-blue-color has-light-gray-background-color has-text-color has-background">Ξεκινάμε με έναν θετικό ακέραιο αριθμό και, αν είναι άρτιος, τον διαιρούμε με το 2 ενώ αν είναι περιττός τον πολλαπλασιάζουμε με το 3 και προσθέτουμε 1 Αν επαναλαμβάνουμε τα παραπάνω με κάθε αριθμό που βρίσκουμε, μετά από πεπερασμένα στο πλήθος βήματα θα πάρουμε αποτέλεσμα 1.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Η παραπάνω εικασία είναι γνωστή και ως <a href="https://en.wikipedia.org/wiki/Collatz_conjecture">εικασία του Collatz</a>. Είδαμε ότι ξεκινώντας από οποιονδήποτε από τους αριθμούς 1,2,...,10 πράγματι καταλήγουμε στον αριθμό 1 - δείτε <a href="https://aftermathsgr.wordpress.com/2021/04/21/%ce%b7-%ce%b5%ce%b9%ce%ba%ce%b1%cf%83%ce%af%ce%b1-collatz-1/">εδώ</a> για περισσότερα. Ωστόσο, το ότι το δείξαμε για δέκα θετικούς ακεραίους δε σημαίνει επ'ουδενί ότι ισχύει η παραπάνω εικασία για <em>κάθε θετικό ακέραιο αριθμό</em>. Είναι όμως χρήσιμο να αποκτήσουμε μία διαίσθηση για το πώς μοιάζουν οι ακολουθίες που προκύπτουν από την παραπάνω διαδικασία, καθώς μπορούμε να αποκομίσουμε δύο οφέλη (δυνητικά):</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>αφενός, να εντοπίσουμε κάποιο μοτίβο το οποίο να μπορεί να αποτελέσει επαρκές στοιχείο για να μας οδηγήσει σε μία απόδειξη,</li>
<li>αφετέρου, να βρούμε κάποια ακολουθία που να μην τερματίζει στο 1 και, ως εκ τούτου, να αποδείξουμε ότι η εικασία είναι εσφαλμένη.</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>Τώρα, το να φτιάξουμε έναν πίνακα όπως αυτό που είδαμε εδώ αλλά όχι μόνο με 10 αλλά, ας πούμε, με 1000 γραμμές, σίγουρα δεν είναι κάτι που θα ήταν διασκεδαστικό να το κάνουμε με το χέρι. Γι' αυτό, όμως, έχουμε τον υπολογιστή μας. Η παρακάτω συνάρτηση - σε python - δέχεται έναν θετικό ακέραιο n και παράγει την αντίστοιχη ακολουθία Collatz με αρχικό όρο n:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code {"language":"python"} --></p>
<pre class="wp-block-syntaxhighlighter-code">def collatz(n):
    sequence = [n]
    while n != 1:
        if n % 2 == 0:
            n = n // 2
        else:
            n = 3*n + 1
        sequence.append(n)
    return sequence</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p>Απλή αποτύπωση του ορισμού της ακολουθίας Collatz σε python είναι το παραπάνω, δε χρειάζεται και ιδιαίτερη εξήγηση είναι η αλήθεια. Με τη βοήθεια της παραπάνω συνάρτησης μπορούμε να εξετάσουμε τώρα ποιες είναι οι 1000 πρώτες ακολουθίες Collatz, χρησιμοποιώντας το εξής script:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code {"language":"python"} --></p>
<pre class="wp-block-syntaxhighlighter-code">def collatz(n):
    sequence = [n]
    while n != 1:
        if n % 2 == 0:
            n = n // 2
        else:
            n = 3*n + 1
        sequence.append(n)
    return sequence
    
if __name__ == '__main__':
    n = 1000
    sequences = ''
    for i in range(1,n+1):
        sequence = collatz(i)
        for entry in sequence:
            sequences += str(entry) + ' '
        sequences += '\n'
    with open('sequenes.txt','w') as file:
        file.write(sequences)</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p>Το παραπάνω δεν κάνει τίποτα άλλο από το να υπολογίζει τις πρώτες 1000 ακολουθίες Collatz και να τις αποθηκεύει σε ένα αρχείο sequence.txt που θα δημιουργηθεί στον ίδιο φάκελο με το αρχείο που έχουμε τον παραπάνω κώδικα. Το αρχείο που θα παραχθεί θα έχει αυτή τη μορφή - μπορείτε να το βρείτε κι <a href="https://drive.google.com/file/d/1OadMT2WHcn7KzqbZMpeJp-DYd-5UsQ4a/view?usp=sharing">εδώ</a>:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":7139,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/04/ceb5ceb9cebacf8ccebdceb1.png?w=1024" alt="" class="wp-image-7139"><br />
<figcaption>Οι πρώτες 53ακολουθίες Collatz μέσα στο αρχείο.</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Η αλήθεια είναι ότι αν περιεργαστεί λίγο κανείς το αρχείο δε θα βρει και πολλά ωραία πράγματα, τουλάχιστον όχι με μία πρώτη ματιά. Για την ακρίβεια, όλα τα παραπάνω θυμίζουν αριθμούς που έχει ρίξει κανείς στην τύχη μέσα σε ένα αρχείο κειμένου. Ωστόσο, αν τους κοιτάξουμε λίγο πιο προσεκτικά, θα δούμε ότι όλες οι ακολουθίες στο παραπάνω αρχείο καταλήγουν σε μία φθίνουσα ακολουθία δυνάμεων του 2.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Χρήσιμη παρατήρηση είναι αυτή, καθώς φαίνεται να εισάγει κάποιου είδους κανονικότητα στο παραπάνω πρόβλημα. Αν το καλοσκεφτούμε, δε, είναι απολύτως λογικό, καθώς επιθυμούμε ο τελευταίος όρος της ακολουθίας μας να είναι 1, οπότε ο προτελευταίος όρος της θα είναι μεγαλύτερος του 1. Αφού σε κάθε βήμα είτε διαιρούμε με το 2 είτε πολλαπλασιάζουμε με το 3 και προσθέτουμε 1, ο μόνος τρόπος για να είναι ο επόμενος όρος μας μικρότερος από τον τρέχοντα είναι να διαιρέσουμε με το 2. Συνεπώς, ο προτελευταίος όρος θα είναι πάντοτε 2. Με ανάλογο σκεπτικό, και ο προ-προτελευταίος μας όρος θα πρέπει αναγκαστικά να είναι 4.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Ωστόσο, για να φτάσουμε στο 4 έχουμε δύο (φαινομενικά) επιλογές. Η μία είναι να φτάσουμε έχοντας διαιρέσει το 8 με το 2 και η άλλη να φτάσουμε έχοντας πολλαπλασιάσει το 1 με 3 και προσθέτοντας 1. Όμως, σαφώς δεν μπορούμε να περάσουμε από το 1 πάνω από μία φορά, άρα ο προ-προ-προτελευταίος όρος είναι το 8. Συνεπώς, κάθε ακολουθία Collatz πρέπει να καταλήγει με τους όρους 8, 4, 2, 1, γεγονός που μπορείς να επαληθεύσει ότι ισχύει με όλες τις ακολουθίες στο παραπάνω αρχείο που έχουν τουλάχιστον τέσσερις όρους.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Το παραπάνω σκεπτικό μπορεί να μας πάει και λίγο παρακάτω. Στο 8 είτε καταλήγουμε από το 16, διαιρώντας με το 2, είτε από το 7/3. πολλαπλασιάζοντας επί 3 και προσθέτοντας 1. Επειδή, όμως, το 7/3 δεν είναι ακέραιος, αυτό το σενάριο απορρίπτεται, επομένως όσες ακολουθίες Collatz έχουν τουλάχιστον 5 στοιχεία, θα πρέπει να καταλήγουν σε 16, 8, 4, 2, 1 - όπως μπορείτε να παρατηρήσετε, αυτό ισχύει και παραπάνω. Από το 16 και πιο πριν, όμως, είναι πιο δύσκολο να κάνουμε καλές μαντεψιές. Αφενός, υπάρχει το «ευχάριστο» σενάριο, όπου καταλήγουμε στο 16 από έναν υποδιπλασιασμό του 32. Αφετέρου, αν πολλαπλασιάσουμε το 5 με το 3 και προσθέσουμε 1 παίρνουμε 16 κι εδώ είναι που το πράγμα γίνεται πιο περίπλοκο. Ωστόσο, το παραπάνω μας δίνει μία καλή ιδέα για να μελετήσουμε το πρόβλημά μας. Αντί να ξεκινάμε από κάθε αριθμό και να εξετάζουμε αν μπορούμε να φτάσουμε στο 1 - πράγμα που είναι μία λογική προσέγγιση, αν και χρονοβόρα - μπορούμε να ξεκινήσουμε από το 1 και εφαρμόζοντας τις «αντίστροφες» πράξεις να εξετάσουμε αν μπορούμε να φτάσουμε σε κάθε αριθμό. Έτσι, έχουμε την εξής ισοδύναμη διατύπωση της εικασίας του Collatz:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"backgroundColor":"light-gray","textColor":"dark-blue"} --></p>
<p class="has-dark-blue-color has-light-gray-background-color has-text-color has-background">Θεωρώντας τις συναρτήσεις $latex d(x)=2x &amp;fg=362e77&amp;bg=d9d9d9 $ και $latex t(x)=\dfrac{x-1}{3} &amp;fg=362e77&amp;bg=d9d9d9 $ με την πρώτη ορισμένη για κάθε $latex x\in\mathbb{N} &amp;fg=362e77&amp;bg=d9d9d9 $ και τη δεύτερη για $latex x=4,7,10,\ldots &amp;fg=362e77&amp;bg=d9d9d9 $ είναι αλήθεια ότι κάθε θετικός ακέραιος αριθμός $latex n &amp;fg=362e77&amp;bg=d9d9d9 $ γράφεται στη μορφή $latex f(1) &amp;fg=362e77&amp;bg=d9d9d9 $ όπου $latex f &amp;fg=362e77&amp;bg=d9d9d9 $ είναι μία συνάρτηση που προκύπτει από πεπερασμένες στο πλήθος συνθέσεις των $latex d,t;&amp;fg=362e77&amp;bg=d9d9d9$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Για παράδειγμα, παρατηρούμε τα εξής:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>$latex 1=d^{(0)}(1)$ - θεωρούμε ότι σύνθεση μίας συνάρτησης μηδέν φορές δίνει την ταυτοτική απεικόνιση.</li>
<li>$latex 2=d(1).$</li>
<li>$latex 3=tdtdddd(1)$ - παραλείπουμε τις παρενθέσεις, για σαφήνεια, οπότε $latex dd(1)=d(d(1))$ κ.ο.κ.</li>
<li>$latex 4=dd(1)$</li>
<li>$latex 5=tdddd(1)$</li>
<li>$latex 6=dtdtdddd(1)$</li>
<li>$latex 7=tdtdtddtdddtdddd(1)$</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>Παρατηρήστε ότι στα παραπάνω δε μας πολυαπασχολεί η σειρά με την οποία εφαρμόζουμε τις d και t, αρκεί να μπορούμε να εφαρμόσουμε την t που δεν ορίζεται σε όλους τους θετικούς ακεραίους.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Με την παραπάνω διαδικασία έχουμε και μία νέα προσέγγιση που μπορούμε να ακολουθήσουμε για να μελετήσουμε την εικασία του Collatz. Αντί να ξεκινάμε από κάθε θετικό ακέραιο και, εφαρμόζοντας πιστά τις οδηγίες του Collatz, να προχωράμε μέχρι να συναντήσουμε τη μονάδα, μπορούμε ξεκινώντας από το 1 και εφαρμόζοντας με όποια σειρά θέλουμε και επιτρέπεται τις d και t να αναρωτηθούμε: Θα καταλήξουμε σε όποιον αριθμό θέλουμε;</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Περισσότερα για τα παραπάνω στο επόμενο μέρος.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Καλημέρα!</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Η κεντρική εικόνα είναι το πορτραίτο του Ambroise Vollard του <em><a href="https://en.wikipedia.org/wiki/Pierre-Auguste_Renoir">Pierre-Auguste Renoir</a>.</em></p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:block {"ref":7111} /--></p>
<p><!-- wp:block {"ref":3122} /--></p>
<p><!-- wp:embed {"url":"https://www.youtube.com/watch?v=oJMCj26o9KU","type":"video","providerNameSlug":"youtube","responsive":true,"className":"wp-embed-aspect-4-3 wp-has-aspect-ratio"} --></p>
<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-4-3 wp-has-aspect-ratio">
<div class="wp-block-embed__wrapper">
https://www.youtube.com/watch?v=oJMCj26o9KU
</div>
</figure>
<p><!-- /wp:embed --><br />
</body></html></p>
