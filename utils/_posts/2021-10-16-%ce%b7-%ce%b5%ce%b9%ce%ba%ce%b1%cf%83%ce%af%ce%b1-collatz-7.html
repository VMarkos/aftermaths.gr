---
layout: post
title: Η εικασία Collatz (7)
date: 2021-10-16 13:16:16.000000000 +03:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- After-maths
- Μαθηματικά
tags:
- Collatz
- featured
meta:
  _last_editor_used_jetpack: block-editor
  publicize_tumblr_url: http://.tumblr.com/post/665194990965850112
  _thumbnail_id: '9304'
  _coblocks_attr: ''
  _coblocks_dimensions: ''
  _coblocks_responsive_height: ''
  _coblocks_accordion_ie_support: ''
  spay_email: ''
  jetpack_anchor_podcast: ''
  jetpack_anchor_episode: ''
  jetpack_anchor_spotify_show: ''
  _wpas_is_tweetstorm: ''
  _wpas_feature_enabled: ''
  _publicize_job_id: '64215904277'
  timeline_notification: '1634379377'
  _publicize_done_external: a:1:{s:7:"twitter";a:1:{i:24446906;s:59:"https://twitter.com/aftermathsgr/status/1449318269094141953";}}
  _publicize_done_22918771: '1'
  _wpas_done_24446906: '1'
  publicize_twitter_user: aftermathsgr
  _publicize_done_23261972: '1'
  _wpas_done_25211553: '1'
  publicize_linkedin_url: ''
  _publicize_done_23897583: '1'
  _wpas_done_26796635: '1'
  _oembed_1e881cf82940fb37c381ae2de1bdc24c: '<div class="embed-youtube"><iframe title="Maddalena
    ai piedi di Cristo: No. 26 Aria Maddalena &quot;Voglio piangere&quot;" width="723"
    height="542" src="https://www.youtube.com/embed/5AN8LELSQm8?feature=oembed" frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;
    web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div>'
  _oembed_time_1e881cf82940fb37c381ae2de1bdc24c: '1725093757'
  _oembed_126e151b0391f462248a0bec5521ad1f: '<div class="embed-youtube"><iframe title="Maddalena
    ai piedi di Cristo: No. 26 Aria Maddalena &quot;Voglio piangere&quot;" width="750"
    height="563" src="https://www.youtube.com/embed/5AN8LELSQm8?feature=oembed" frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;
    web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div>'
  _oembed_time_126e151b0391f462248a0bec5521ad1f: '1730546946'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:55:47'
author:
  login: aftermathsgr
  email: aftermathsgr@gmail.com
  display_name: Aftermaths
  first_name: Βασίλης
  last_name: Μάρκος
permalink: "/2021/10/16/%ce%b7-%ce%b5%ce%b9%ce%ba%ce%b1%cf%83%ce%af%ce%b1-collatz-7/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>Την προηγούμενη εβδομάδα είδαμε διάφορα ωραία και ενδιαφέροντα σε σχέση με την εικασία Collatz και το πώς αυτή σχετίζεται με άλλα δύσκολα προβλήματα που αφορούν τους αριθμούς και την ανάλυσή τους σε γινόμενο πρώτων παραγόντων. Για την ακρίβεια είδαμε ότι η εικασία που έχουμε αγαπήσει να μισούμε λύνεται πολύ εύκολα αν μπορούμε να προσδιορίσουμε το ανάπτυγμα σε γινόμενο πρώτων ενός θετικού ακεραίου αριθμού από τον προηγούμενο ή τον επόμενό του. Ωστόσο, αυτό από μόνο του είναι ιδιαίτερα δύσκολο - και ακόμα αναπάντητο.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Αν θέλετε να θυμηθείτε περισσότερα από όσα έχουμε πει δείτε <a href="https://aftermaths.gr/2021/10/08/%ce%b7-%ce%b5%ce%b9%ce%ba%ce%b1%cf%83%ce%af%ce%b1-collatz-6/">εδώ</a> και <a href="https://aftermaths.gr/category/collatz/">εδώ</a>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:heading --></p>
<h2>Επί τρία, διά δύο...</h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>Πιάνοντας το νήμα ακριβώς από εκεί που το αφήσαμε, είχαμε ξεκινήσει να έχουμε μία εναλλακτική προσέγγιση στην εικασία του Collatz. Για την ακρίβεια, είχαμε πει πως αντί να ψάχνουμε πότε ένας αριθμός οδηγεί σε ακολουθία που τερματίζει, μπορούμε για αρχή να ψάχνουμε πότε ένας αριθμός οδηγεί σε ακολουθία που κάποια στιγμή «πέφτει» κάτω από τον αρχικό της όρο. Έτσι, αν για παράδειγμα έχουμε έναν αριθμό $latex n$ και δείξουμε ότι η ακολουθία Collatz που ξεκινάει με αυτόν σε κάποια φάση καταλήγει σε έναν αριθμό $latex m&lt;n$ και, επιπλέον, έχουμε αποδείξει ότι όλοι οι αριθμοί που είναι μικρότεροι του $latex n$ οδηγούν σε ακολουθίες Collatz που τερματίζουν, τότε έχουμε τελειώσει.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Επομένως, αντί να κοιτάμε ολόκληρες ακολουθίες Collatz, ασχολούμαστε απλά και μόνο με το αν κάποτε οδηγούν σε κάποιον μικρότερο όρο - με την ελπίδα ότι αυτή η απλοποίηση που κάναμε θα μας οδηγήσει πιο εύκολα σε αποτελέσματα. Έτσι, αμέσως-αμέσως παρατηρούμε ότι δεν χρειάζεται προς το παρόν να ασχοληθούμε με κανέναν άρτιο αριθμό, καθώς αυτοί στο πρώτο βήμα οδηγούν σε υποδιπλασιασμό - δεν ισχυριζόμαστε ότι όλοι οι άρτιοι δίνουν ακολουθίες Collatz που τερματίζουν στο 1, αλλά απλά ότι δε θα μας απασχολήσουν προς στιγμή.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Έπειτα, σχεδιάσαμε το ακόλουθο script σε python το οποίο σχεδιάζει το πόσους υποδιπλασιασμούς μπορούμε να κάνουμε ξεκινώντας από έναν δεδομένο περιττό αριθμό αφού πρώτα τον τριπλασιάσουμε και προσθέσουμε μία μονάδα:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code {"language":"python"} --></p>
<pre class="wp-block-syntaxhighlighter-code">import json
 
from matplotlib import pyplot as plt
 
def count_powers_of_2(n):
    powers = []
    for i in range(1, 2 * n + 1, 2):
        j = 3 * i + 1
        counter = 0
        while j % 2 == 0:
            j /= 2
            counter += 1
        powers.append(counter)
    return powers
 
def plot_frequencies(powers):
    x = [2 * i + 1 for i in range(len(powers))]
    plt.plot(x, powers, 'r-')
    plt.xlabel('n')
    plt.ylabel('# of 2s in 3n + 1')
    plt.savefig('powers_' + str(len(powers)) + '.png')
 
if __name__ == '__main__':
    n = 20
    powers = count_powers_of_2(n)
    with open('powers_' + str(n) + '.txt', 'w') as file:
        json.dump(powers, file)
    plot_frequencies(powers)</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p>Ένα σχήμα που είχαμε πάρει την προηγούμενη εβδομάδα είναι το ακόλουθο:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":9062,"sizeSlug":"full","linkDestination":"none"} --></p>
<figure class="wp-block-image size-full"><img src="{{site.baseurl}}/assets/2021/10/powers_20.png" alt="Η εικασία Collatz - οι κακοί αριθμοί" class="wp-image-9062"><br />
<figcaption>Πόσες δυνάμεις του 2 χωράνε;</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Με αφορμή το παραπάνω σχήμα αποδείξαμε ότι υπάρχει ένα σύνολο αριθμών, αυτοί της μορφής $latex 4k-1$ για $latex k=1,2,\ldots$ οι οποίοι, αφού «τριπλασιαστούν» μετά μπορούν να διπλασιαστούν μόνο μία φορά και, ως εκ τούτου, οδηγούν σε έναν όρο μεγαλύτερο από τον αρχικό - δηλαδή, τον $latex 4k-1.$ Συνεπώς, αυτοί οι αριθμοί είναι κάπως «προβληματικοί», καθώς δε μας βοηθούν να «μικρύνουμε» τους όρους της ακολουθίας μας, τελικά, οπότε και θα θέλαμε να ξέρουμε περισσότερα πράγματα γι' αυτούς. Διότι, εντάξει, είναι κακοί, αλλά ίσως και να μην πειράζει, καθώς αν δεν συναντάμε συχνά τέτοιους αριθμούς μέσα σε μία ακολουθία Collatz τότε ούτε γάτα ούτε ζημιά, που λέμε.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Συνεπώς, έχοντας περιοριστεί στους αριθμούς $latex 4k-1,$ θέτουμε το εξής ερώτημα:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"backgroundColor":"light-gray","textColor":"dark-blue"} --></p>
<p class="has-dark-blue-color has-light-gray-background-color has-text-color has-background">Πόσα βήματα χρειάζεται να κάνουμε ξεκινώντας από έναν τέτοιον αριθμό μέχρι να φτάσουμε σε έναν μικρότερο όρο της ακολουθίας Collatz;</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Όπως φαντάζεστε, πριν προσπαθήσουμε να αποδείξουμε το ο,τιδήποτε, θα προσπαθήσουμε να αποκτήσουμε λίγη διαίσθηση κάνοντας κάποιες δοκιμές. Σε αυτές τις δοκιμές θα μας βοηθήσει το ακόλουθο script:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code {"language":"python"} --></p>
<pre class="wp-block-syntaxhighlighter-code">from matplotlib import pyplot as plt

def next_collatz(n):
    if n % 2 == 0:
        return (n / 2, 0)
    return (3 * n + 1, 1)

def count_steps_to_end(n):
    steps = []
    for i in range(n):
        sequence = []
        k = 4 * i + 3
        (next, op) = next_collatz(k)
        while next &gt;= k:
            sequence.append(op)
            (next, op) = next_collatz(next)
        steps.append(sequence)
    return steps

def plot_steps(n):
    steps = count_steps_to_end(n)
    y = [4 * i + 3 for i in range(n)]
    m = 0
    for i in range(n):
        for j in range(len(steps[i])):
            if len(steps[i]) &gt; m:
                m = len(steps[i])
            if steps[i][j] == 0:
                plt.plot(j, y[i], 'ro')
            else:
                plt.plot(j, y[i], 'bo')
    plt.ylabel('$n=4k-1$')
    plt.yticks(y)
    plt.xticks([i for i in range(0, m, 2)])
    plt.grid()
    plt.show()

if __name__ == '__main__':
    n = 20
    plot_steps(n)</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p>Το παραπάνω script μας βοηθάει να σχεδιάσουμε ένα σχήμα σαν το παρακάτω:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":9286,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/10/steps_20.png?w=1024" alt="" class="wp-image-9286"><br />
<figcaption>Κυκλάκια, πολλά κυκλάκια...</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Αυτό που βλέπουμε παραπάνω είναι τα βήματα που χρειάζονται, ξεκινώντας από έναν αριθμό της μορφής $latex 4k-1$ - κάθετος άξονας - έτσι ώστε να φτάσουμε σε έναν όρο μικρότερο από τον αρχικό. Επιπρόσθετα, κάθε βήμα (κυκλάκι) είναι χρωματισμένο είτε κόκκινο είτε μπλε, με το κόκκινο να σημαίνει ότι σε εκείνο το βήμα έγινε υποδιπλασιασμός ενώ το μπλε σημαίνει ότι έγινε «τριπλασιασμός».</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Παρατηρώντας το παραπάνω σχήμα βλέπουμε, αρχικά, ότι για κάθε αριθμό έχουμε ένα αρχικό μοτίβο που το περιμέναμε: «τριπλασιασμός» - υποδιπλασιασμός - «τριπλασιασμός» - υποδιπλασιασμός. Έπειτα από αυτά τα τέσσερα πρώτα βήματα, που είναι υποχρεωτικά τα ίδια για κάθε αριθμό της μορφής $latex n=4k-1$ δε φαίνεται να έχουμε κάτι σαφέστερο - τουλάχιστον όχι με μία πρώτη ματιά. Ας δούμε, όμως, τι είδους αριθμός είναι ένας αριθμός που προκύπτει από τον $latex n=4k-1$ εφαρμόζοντας τα παραπάνω 4 βήματα:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>Αρχικά, «τριπλασιάζουμε» παίρνοντας τον $latex 3n+1=12k-2.$</li>
<li>Έπειτα, υποδιπλασιάζουμε παίρνοντας τον $latex 6k-1.$</li>
<li>Έπειτα, «τριπλασιάζουμε» παίρνοντας τον $latex 18k-2.$</li>
<li>Έπειτα, υποδιπλασιάζουμε παίρνοντας τον $latex 9k-1.$</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>Τώρα, οι αριθμοί της μορφής $latex 9k-1$ είναι σαφώς μεγαλύτεροι από τους $latex 4k-1$ για ίδιες τιμές του $latex k=1,2,\ldots$ οπότε και έχουμε δουλειά μπροστά μας να κάνουμε.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Πώς όμως μπορούμε να δούμε αν από έναν αριθμό της μορφής $latex 9k-1$ μπορούμε με πεπερασμένο πλήθος εφαρμογών των βασικών πράξεων που μας έχει καθορίσει ο κύριος Collatz να καταλήξουμε σε έναν αριθμό μικρότερο από τον $latex 4k-1.$ Από το παραπάνω σχήμα δε φαίνεται, μετά τα 4 πρώτα βήματα, να υπάρχει κάποιο μοτίβο. Ίσως ένα μεγαλύτερο σχήμα να μας βοηθήσει:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":9293,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/10/steps_100.png?w=1024" alt="" class="wp-image-9293"><br />
<figcaption>Χμμμ, κάτι αρχίζει να αχνοφαίνεται...</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Εδώ, αν παρατηρήσετε, πέρα από τα τέσσερα πρώτα βήματα που είναι ίδια - μπλε, κόκκινο, μπλε, κόκκινο - έχουμε και μετά ένα ωραίο μοτίβο. Φαίνεται το πέμπτο βήμα να είναι εναλλάξ είτε μπλε είτε κόκκινο. Δηλαδή, ξεκινώντας από έναν αριθμό της μορφής $latex 9k-1$ φαίνεται μετά να έχουμε δύο επιλογές:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>για περιττές τιμές του $latex k$ φαίνεται να μπορούμε να υποδιπλασιάσουμε (τουλάχιστον μία φορά) ενώ,</li>
<li>για περιττές τιμές του $latex k$ φαίνεται να μην μπορούμε να υποδιπλασιάσουμε.</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>Αλγεβρικά, αυτό επιβεβαιώνεται εύκολα, αφού αν $latex k=1,3,5,\ldots$ τότε ο $latex 9k-1$ είναι άρτιος - ως διαφορά περιττών - και άρα μπορούμε να τον υποδιπλασιάσουμε. Γράφοντας $latex k=2l-1$ για $latex l=1,2,\ldots $έχουμε:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex \dfrac{9k-1}{2}=\dfrac{18l-9-1}{2}=9l-5.$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Στην περίπτωση που $latex k=2l$ δεν μπορούμε να υποδιπλασιάσουμε, άρα από τον $latex 9k-1$ περνάμε στον $latex 27k-2$ - που είναι ακόμα μεγαλύτερος. Τώρα, για τον $latex 9l-5$ μπορούμε να παρατηρήσουμε πως στην (υπο-υπο-)περίπτωση που ο $latex l$ είναι περιττός, είναι άρτιος - και πάλι ως διαφορά περιττών. Επομένως, μπορούμε να ξανα-υποδιπλασιάσουμε και να βρούμε τον ακόλουθο αριθμό - υποθέτουμε ότι $latex l=2m-1:$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex \dfrac{9l-5}{2}=\dfrac{18m-9-1}{2}=9m-5.$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Τώρα, ας παρατηρήσουμε ότι στην υπο-υπο-περίπτωση που βρισκόμαστε έχουμε $latex k=2l-1=2(2m-1)-1=4m-3$ και άρα έχουμε ξεκινήσει από τον αριθμό:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex 4k-1=4(4m-3)-1=16m-13,$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>ο οποίος είναι μεγαλύτερος από τον $latex 9m-5$ για κάθε $latex m&gt;1$ αφού:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex 16m-13&gt;9m-5\Leftrightarrow7m&gt;8,$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>που ισχύει ακριβώς για κάθε $latex m&gt;1.$ Επομένως, για τους αριθμούς της μορφής $latex 16m-13$ για $latex m&gt;1$ ισχύει αυτό που θέλαμε: κάποια στιγμή (μετά από 6 βήματα) θα καταλήξουμε σε έναν αριθμό μικρότερο από αυτόν που ξεκινήσαμε.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Όλα αυτά τα συμπεράναμε από αυτό το μικρό μοτίβο της πέμπτης «στήλης» του παραπάνω σχήματος. Ωστόσο, αν παρατηρήσετε και τις διπλανές στήλες, φαίνεται κι αυτές να έχουν κάποιο μοτίβο στο πώς χρωματίζονται; Μπορούμε, άραγε, να συστηματοποιήσουμε κάπως τον τρόπο με τον οποίο περιγράφονται αυτά τα μοτίβα; Κι αν ναι, πού θα μας βοηθήσει αυτό;</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Γι' αυτά και άλλα πολλά θα μιλήσουμε την ερχόμενη εβδομάδα.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Μέχρι τότε, καλή συνέχεια!</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Η κεντρική εικόνα είναι ο πίνακας <em>Δανάη</em> του <em><a href="https://en.wikipedia.org/wiki/Henri_Fantin-Latour">Henri Fantin-Latour</a></em>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:block {"ref":3122} /--></p>
<p><!-- wp:embed {"url":"https://www.youtube.com/watch?v=5AN8LELSQm8","type":"video","providerNameSlug":"youtube","responsive":true,"className":"wp-embed-aspect-4-3 wp-has-aspect-ratio"} --></p>
<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-4-3 wp-has-aspect-ratio">
<div class="wp-block-embed__wrapper">
https://www.youtube.com/watch?v=5AN8LELSQm8
</div>
</figure>
<p><!-- /wp:embed --><br />
</body></html></p>
