---
layout: post
title: Η εικασία Collatz (8)
date: 2021-10-22 23:55:43.000000000 +03:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- After-maths
- Μαθηματικά
tags:
- Collatz
- featured
meta:
  _last_editor_used_jetpack: block-editor
  _thumbnail_id: '9516'
  _coblocks_attr: ''
  _coblocks_dimensions: ''
  _coblocks_responsive_height: ''
  _coblocks_accordion_ie_support: ''
  spay_email: ''
  jetpack_anchor_podcast: ''
  jetpack_anchor_episode: ''
  jetpack_anchor_spotify_show: ''
  _wpas_is_tweetstorm: ''
  _wpas_feature_enabled: '1'
  _publicize_job_id: '64466818882'
  timeline_notification: '1634936144'
  _publicize_done_external: a:1:{s:7:"twitter";a:1:{i:24446906;s:59:"https://twitter.com/aftermathsgr/status/1451653519346319362";}}
  _publicize_done_22918771: '1'
  _wpas_done_24446906: '1'
  publicize_twitter_user: aftermathsgr
  publicize_tumblr_url: http://.tumblr.com/post/665778804723187712
  _publicize_done_23261972: '1'
  _wpas_done_25211553: '1'
  publicize_linkedin_url: ''
  _publicize_done_23897583: '1'
  _wpas_done_26796635: '1'
  _oembed_7e7f4d90066249d59606e32c430a4984: '<div class="embed-youtube"><iframe title="Oedipus,
    Z. 583: No. 2, Song. &quot;Music for a While&quot; (Arr. Pluhar)" width="723"
    height="542" src="https://www.youtube.com/embed/A0pLEnlF3ZQ?feature=oembed" frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;
    web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div>'
  _oembed_time_7e7f4d90066249d59606e32c430a4984: '1725029078'
  _oembed_5b8163058adde578990020770c9b0549: '<div class="embed-youtube"><iframe title="Oedipus,
    Z. 583: No. 2, Song. &quot;Music for a While&quot; (Arr. Pluhar)" width="750"
    height="563" src="https://www.youtube.com/embed/A0pLEnlF3ZQ?feature=oembed" frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;
    web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></div>'
  _oembed_time_5b8163058adde578990020770c9b0549: '1730546947'
  _elasticsearch_data_sharing_indexed_on: '2024-11-18 13:55:48'
author:
  login: aftermathsgr
  email: aftermathsgr@gmail.com
  display_name: Aftermaths
  first_name: Βασίλης
  last_name: Μάρκος
permalink: "/2021/10/22/%ce%b7-%ce%b5%ce%b9%ce%ba%ce%b1%cf%83%ce%af%ce%b1-collatz-8/"
---
<p><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><br />
<!-- wp:paragraph --><html><body></p>
<p>Την προηγούμενη εβδομάδα ασχοληθήκαμε αρκετά με μία εναλλακτική προσέγγιση της εικασίας Collatz, η οποία βασίζεται σε μία επαγωγική ιδέα. Για την ακρίβεια, είπαμε ότι αν καταφέρουμε και αποδείξουμε ότι από όποιον αριθμό κι αν ξεκινήσουμε, μετά από πεπερασμένο πλήθος βημάτων καταλήγουμε σε έναν αριθμό μικρότερο από τον αρχικό μας όρο, τότε η εικασία Collatz είναι αληθής. Έτσι, αντί να μελετούμε αν τελικά μία ακολουθία καταλήγει στο 1, αρκεί να εξετάζουμε αν <em>όλες</em> οι ακολουθίες Collatz καταλήγουν σε έναν όρο μικρότερο από τον αρχικό τους.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Το σημαντικό στο παραπάνω είναι ότι πρέπει αυτή η ιδιότητα να ισχύει για όλες τις ακολουθίες Collatz έτσι ώστε να συμπεράνουμε ότι αληθεύει η εικασία. Ειδάλλως, αν υπάρχει έστω κι ένας αριθμός από τον οποίον αν ξεκινήσουμε δεν μπορούμε με κάποιον τρόπο να αποδείξουμε ότι καταλήγουμε σε έναν όρο μικρότερο από τον αρχικό - ανεξάρτητα από το αν αυτό συμβαίνει ή όχι - τότε όλη η παραπάνω απόπειρα απόδειξης είναι άχρηστη.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:heading --></p>
<h2>Με απλά βήματα...</h2>
<p><!-- /wp:heading --></p>
<p><!-- wp:paragraph --></p>
<p>Ξεκινώντας από πιο ήπιους στόχους, αρχικά θα ασχοληθούμε με τους αριθμούς της μορφής $latex 4k-1$ καθώς, όπως <a href="https://aftermaths.gr/2021/10/16/%ce%b7-%ce%b5%ce%b9%ce%ba%ce%b1%cf%83%ce%af%ce%b1-collatz-7/">έχουμε δει</a>, αυτοί οι αριθμοί δεν οδηγούν με κάποιον προφανή τρόπο σε κάποιον αριθμό μικρότερο από αυτούς. Για την ακρίβεια, τα πρώτα βήματα κάθε ακολουθίας Collatz που ξεκινάει από έναν τέτοιον αριθμό είναι τα εξής:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>«τριπλασιασμός»,</li>
<li>υποδιπλασιασμός,</li>
<li>«τριπλασιασμός»,</li>
<li>υποδιπλασιασμός.</li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>Αυτά μας οδηγούν, τελικά, στον αριθμό $latex 9k-1$ ο οποίος είναι περίπου $latex \dfrac{9}{4}$ φορές μεγαλύτερος από τον αρχικό - και άρα έχουμε δουλειά να κάνουμε...</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Με αφορμή τα παραπάνω, αποφασίσαμε να σχεδιάσουμε για κάθε τέτοιον αριθμό την ακολουθία των πράξεων που κάνουμε μέχρι να καταλήξουμε σε έναν αριθμό μικρότερο από τον αρχικό όρο. Έτσι, πήραμε ένα σχήμα σαν το ακόλουθο:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":9293,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/10/steps_100.png?w=723" alt="Εικασία Collatz" class="wp-image-9293"><br />
<figcaption>Μπλε = «τριπλασιασμός», κόκκινο = υποδιπλασιασμός.</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Στο παραπάνω σχήμα βλέπουμε, αρχικά, ότι πράγματι αν ξεκινήσουμε από έναν αριθμό της μορφής $latex 4k-1$ τότε κάνουμε τα τέσσερα πρώτα βήματα που είπαμε παραπάνω. Γι' αυτό και στο σχήμα μας δημιουργούνται 4 στήλες, εναλλάξ μπλε και κόκκινες. Μετά, δεδομένου ότι ένας αριθμός της μορφής $latex 9k-1$ είναι είτε άρτιος είτε περιττός ανάλογα με το τι είναι ο $latex k,$ έχουμε αυτό το εναλλάξ μοτίβο στην πέμπτη στήλη - άλλοτε μπορούμε να υποδιπλασιάσουμε κι άλλοτε όχι. Πιο μετά έχουμε ένα ακόμα πιο περίπλοκο μοτίβο, το οποίο έχει μέσα και κενά - αφού υπάρχουν ακολουθίες πράξεων που τερματίζουν στο πέμπτο βήμα. Στην έβδομη στήλη επίσης μπορούμε να παρατηρήσουμε ένα μοτίβο, το ίδιο και στην όγδοη, και ίσως και στις επόμενες - απλά μπορεί το «δείγμα» των εκατό σημείων που έχουμε να μην επαρκεί για να παρατηρήσουμε πράγματι αυτά τα μοτίβα.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Για παράδειγμα, αν σχεδιάσουμε 200 τέτοιες περιπτώσεις αντί για 100, τότε μπορούμε να εντοπίσουμε πιο εύκολα και άλλα μοτίβα σε μεγαλύτερες στήλες:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":9497,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/10/steps_200.png?w=1024" alt="" class="wp-image-9497"><br />
<figcaption>Στριμώχτηκαν λίγο όλα...</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Αλλά, θα κάτσουμε να αναλύσουμε άπειρα στο πλήθος μοτίβα, με την ελπίδα ότι θα βγάλουμε άκρη; Ίσως και ναι - αν, για παράδειγμα, παρατηρήσουμε ότι κι αυτά με τη σειρά τους έχουν κάποιο μοτίβο με το οποίο εμφανίζονται. Ωστόσο, πριν από αυτό ίσως έχει νόημα να ακολουθήσουμε μία πιο αφηρημένη προσέγγιση στο ζήτημά μας. Όπως είπαμε, δοθέντος ενός αριθμού της μορφής $latex n=4k-1$ θέλουμε να δούμε αν μετά από πεπερασμένο πλήθος βημάτων θα καταλήξουμε σε αριθμό μικρότερο του $latex n.$ Οι πράξεις που κάνουμε είναι, δύο, όπως έχουμε επίσης, με τη μία να μεγαλώνει τους όρους που έχουμε στη διάθεσή μας και την άλλη να τους μικραίνει. Αν, «μπακάλικα», πούμε ότι ένας «τριπλασιασμός» είναι τριπλασιασμός, δηλαδή ότι $latex 3n+1\approx 3n,$ τότε, μετά από $latex x$ τριπλασιασμούς και $latex y$ υποδιπλασιασμούς, ο $latex x+y-$οστός όρος της ακολουθίας μας θα είναι, περίπου, ο εξής:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex c_{x+y}\approx\dfrac{3^x}{2^y}n.$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Επομένως, αν θέλουμε κάποτε να καταλήξουμε σε έναν όρο κάτω από το $latex n$ θα πρέπει, τελικά, οι υποδιπλασιασμοί και οι «τριπλασιασμοί» μας να ικανοποιούν την ακόλουθη σχέση (περίπου):</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex \dfrac{3^x}{2^y}n&lt;n\Leftrightarrow 3^x&lt;2^y.$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Τώρα, αυτή είναι μία συμπαθητική σχέση ανάμεσα σε δύο εκθετικές συναρτήσεις. Υψώνοντας στην $latex \frac{1}{y}$ - δηλαδή, παίρνοντας $latex y-$οστές ρίζες - παίρνουμε το εξής:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex 3^{x/y}&lt;2\Leftrightarrow \dfrac{x}{y}&lt;\log_32.$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Τώρα, αν ανοίξουμε μία αριθμομηχανή δε θα βρούμε εύκολα λογαρίθμους με βάση 3, ωστόσο, γνωρίζουμε τον αγαπητό μας τύπο αλλαγής βάσης:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"align":"center"} --></p>
<p class="has-text-align-center">$latex \log_32=\dfrac{\ln2}{\ln3}\approx0.6309.$</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Συνεπώς, από τα παραπάνω συμπεράναμε ότι, για να καταφέρουμε μία ακολουθία να καταλήξει σε όρο μικρότερο από τον αρχικό της, θέλουμε ο λόγος των τριπλασιασμών προ τους υποδιπλασιασμούς να είναι περίπου 0,6309.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Σαφώς, το παραπάνω δεν μπορούμε κάπως να το υπολογίσουμε, αλλά μπορούμε σίγουρα να δοκιμάσουμε διάφορες περιπτώσεις. Αντί, όμως, να δοκιμάσουμε για κάθε αριθμό ξεχωριστά θα προσπαθήσουμε να υπολογίσουμε κατά «μέσο όρο» τι συμβαίνει. Με τον συμβολισμό των παραπάνω μπλε-κόκκινων σχημάτων, αυτό που θέλουμε είναι οι μπλε κουκκίδες να είναι περίπου το 63,09% των κόκκινων. Έτσι, με τη βοήθεια του ακόλουθου script, υπολογίζουμε για διάφορα τέτοια σχήματα τον παραπάνω λόγο και τον σχεδιάζουμε, συναρτήσει του πλήθους των αριθμών που αφορά το σχήμα:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:syntaxhighlighter/code {"language":"python"} --></p>
<pre class="wp-block-syntaxhighlighter-code">def blue_red_ratio(n):
    blue = 0
    red = 0
    for i in range(n):
        k = 4 * i + 3
        (next, op) = next_collatz(k)
        while next &gt;= k:
            if op == 0:
                red += 1
            else:
                blue += 1
            (next, op) = next_collatz(next)
    return blue / red

def plot_blue_red_ratio(n):
    ratios = []
    for i in range(1, n + 1):
        ratios.append(blue_red_ratio(i))
    plt.plot([x for x in range(1, n + 1)], ratios, 'b-', label="blue/red ratio")
    plt.xlabel('# of numbers of the form $4k-1$ checked')
    plt.ylabel('blue/red ratio')
    plt.grid()
    plt.plot([1, n], [0.6309, 0.6309], 'r-', label='y=0.6309')
    plt.legend()
    plt.show()

if __name__ == '__main__':
    n = 20
    plot_blue_red_ratio(n)</pre>
<p><!-- /wp:syntaxhighlighter/code --></p>
<p><!-- wp:paragraph --></p>
<p>Με τη βοήθεια του παραπάνω, σχεδιάζουμε το ακόλουθο σχήμα:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":9509,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/10/ratio_20.png?w=1024" alt="" class="wp-image-9509"><br />
<figcaption>Αρκετά κοντά...</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Αλλά, τι να μας κάνουν μόνο 20 περιπτώσεις. Ας δούμε πώς πάει η κατάσταση όταν έχουμε μέχρι και 1000 αριθμούς:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:image {"id":9510,"sizeSlug":"large","linkDestination":"none"} --></p>
<figure class="wp-block-image size-large"><img src="{{site.baseurl}}/assets/2021/10/ratio_1000.png?w=1024" alt="" class="wp-image-9510"><br />
<figcaption>Όχι αρκετά κοντά...</figcaption>
</figure>
<p><!-- /wp:image --></p>
<p><!-- wp:paragraph --></p>
<p>Η αλήθεια είναι ότι δεν παρατηρούμε ο λόγος των «τριπλασιασμών» προς τους υποδιπλασιασμούς να συγκλίνει προς τα εκεί που θα θέλαμε. Αλλά αυτό δεν είναι απαραίτητα αποθαρρυντικό καθώς όλοι οι παραπάνω υπολογισμοί, ανεξάρτητα από το φαινομενικά «ακριβές» αποτέλεσμα 0,6309, έγινα στο «περίπου». Αυτό που έχει ιδιαίτερο ενδιαφέρον είναι ότι πράγματι, ο λόγος των «τριπλασιασμών» προς τους υποδιπλασιασμούς που χρειαζόμαστε στη δύσκολη περίπτωση των αριθμών $latex 4k-1$ δείχνει, τελικά, να σταθεροποιείται σε κάποια τιμή σχετικά κοντά (ας πούμε) σε αυτήν που θα θέλαμε - περίπου.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Ίσως, πριν προχωρήσουμε στο να εξετάζουμε ένα-ένα τα μοτίβα που παρατηρήσαμε παραπάνω να έχει νόημα να θέσουμε το εξής ερώτημα - αφού βάλαμε και ασυμπτωτικές συμπεριφορές στο παιχνίδι:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph {"backgroundColor":"light-gray","textColor":"dark-blue"} --></p>
<p class="has-dark-blue-color has-light-gray-background-color has-text-color has-background">Με τι πιθανότητα, ξεκινώντας από έναν αριθμό, καταλήγουμε με «βήματα Collatz» σε έναν μικρότερο αριθμό;</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Με αυτό το ερώτημα θα κλείσουμε τις σκέψεις μας αυτήν την εβδομάδα. Για περισσότερα, αναμείνατε την επόμενη ανάρτηση της <a href="https://aftermaths.gr/category/collatz/">σειράς</a>!</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Μέχρι τότε, καληνύχτα!</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Η κεντρική εικόνα είναι ο πίνακας <em>Στο τραπέζι</em> του <em><a href="https://en.wikipedia.org/wiki/Henri_Fantin-Latour">Henri Fantin-Latour</a></em>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:block {"ref":3122} /--></p>
<p><!-- wp:embed {"url":"https://www.youtube.com/watch?v=A0pLEnlF3ZQ","type":"video","providerNameSlug":"youtube","responsive":true,"className":"wp-embed-aspect-4-3 wp-has-aspect-ratio"} --></p>
<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-4-3 wp-has-aspect-ratio">
<div class="wp-block-embed__wrapper">
https://www.youtube.com/watch?v=A0pLEnlF3ZQ
</div>
</figure>
<p><!-- /wp:embed --><br />
</body></html></p>
